{% extends "index.html" %}
{% block content %}
<h2>{{ 'Редактировать' if patient else 'Добавить' }} пациента</h2>
<form method="POST">
    <div class="mb-3">
      <label class="form-label">Фамилия</label>
      <input type="text" name="last_name" class="form-control" value="{{ patient.last_name if patient else '' }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Имя</label>
      <input type="text" name="first_name" class="form-control" value="{{ patient.first_name if patient else '' }}" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Отчество</label>
      <input type="text" name="middle_name" class="form-control" value="{{ patient.middle_name if patient else '' }}">
    </div>
    <div class="mb-3">
        <label class="form-label">Дата рождения</label>
        <input type="date" name="birth_date" class="form-control" value="{{ patient.birth_date if patient else '' }}">
    </div>
    <div class="mb-3">
        <label class="form-label">Пол</label>
        <select name="gender" class="form-select">
            <option value="М" {% if patient and patient.gender == 'М' %}selected{% endif %}>М</option>
            <option value="Ж" {% if patient and patient.gender == 'Ж' %}selected{% endif %}>Ж</option>
        </select>
    </div>
    <div class="mb-3">
        <label class="form-label">Телефон</label>
        <input type="text" name="phone" class="form-control" value="{{ patient.phone if patient else '' }}">
    </div>
    <button type="submit" class="btn btn-success">Сохранить</button>
    <a href="/patients" class="btn btn-secondary">Отмена</a>
</form>
{% endblock %}
